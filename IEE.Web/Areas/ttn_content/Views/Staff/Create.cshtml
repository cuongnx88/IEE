@using IEE.ViewModel;
@using IEE.Infrastructure.DbContext
@model UserViewModel
@{
    ViewBag.Title = "Thêm mới nhân viên";
    Layout = "~/areas/ttn_content/views/shared/_ttn_content.cshtml";
    List<Role> roles = (List<Role>)ViewBag.Roles;
}

<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Thêm mới học viên</h5>
            </div>
            <div class="ibox-content">
                @using (Html.BeginForm("create", "staff", null, FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
                {
                    
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Họ và tên</label>

                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    @Html.TextBoxFor(model => model.Name, new { @class = "form-control", maxlength = "250" })
                                    @Html.ValidationMessageFor(model => model.Name)
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group" id="data_date">
                        <label class="col-sm-2 control-label">Ngày sinh</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="input-group date ">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        @Html.TextBoxFor(model => model.Birthday, new { @class = "form-control", @Value = System.DateTime.Now.Date.ToShortDateString() })
                                        @Html.ValidationMessageFor(model => model.Birthday)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Địa chỉ</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    @Html.TextBoxFor(model => model.Address, new { @class = "form-control", maxlength = "250" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Điện thoại</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-4">
                                    @Html.TextBoxFor(model => model.Phone, new { @class = "form-control", maxlength = "11", type = "number" })
                                    @Html.ValidationMessageFor(model => model.Phone)
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Email</label>

                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    @Html.TextBoxFor(model => model.Email, new { @class = "form-control", @type = "email", maxlength = "250" })
                                    @Html.ValidationMessageFor(model => model.Email)
                                </div>
                            </div>
                            <span class="help-block m-b-none">Sử dụng Email để đăng nhập và nhận thông báo từ hệ thống.</span>
                        </div>

                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Mật khẩu</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    @Html.PasswordFor(model => model.Password, new { @class = "form-control", maxlength = "250" })
                                    @Html.ValidationMessageFor(model => model.Password)
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Xác nhận mật khẩu</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-md-6">
                                    @Html.PasswordFor(model => model.ConfirmPassword, new { @class = "form-control", maxlength = "250" })
                                    @Html.ValidationMessageFor(model => model.ConfirmPassword)
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Hình ảnh</label>
                        <div class="col-sm-10">
                            <div class="row">

                                <div class="col-md-6">
                                    <div class="btn-group">
                                        <label title="Upload image file" for="file" class="btn btn-primary">
                                            <input type="file" multiple="multiple" name="file" id="file" class="hide">
                                            Upload hình ảnh
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">Phân quyền</label>
                        <div class="col-sm-10">
                            <div class="row">
                                <div class="col-sm-12">

                                    @foreach (var u in roles)
                                    {
                                        <label class="checkbox-inline i-checks">
                                            <input type="checkbox"
                                                   name="selectedRoles"
                                                   value="@u.Id" />
                                            @u.Title
                                        </label>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="hr-line-dashed"></div>
                    <div class="form-group">
                        <div class="col-sm-4 col-sm-offset-2">
                            <button class="btn btn-primary" type="submit">   Lưu   </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-4 col-sm-offset-2">
                            @Html.ValidationSummary(true)
                        </div>
                    </div>
                }

            </div>
        </div>
    </div>
</div>
